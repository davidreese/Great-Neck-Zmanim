<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${org.getName()}"></title>

    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.6.1/css/bootstrap.min.css} "/>
    <link th:rel="stylesheet" th:href="@{/styles.css}">
    <link th:rel="stylesheet" th:href="@{/front/org.css}">
</head>
<body>
<div class="horizontal-container d-flex" id="wrapper">
    <th:block th:include="/front/navbar"></th:block>
    <div class="container-fluid " id="main">
        <div class="row row-offcanvas row-offcanvas-left vh-100" style="flex-direction: column;">
<!--            <th:block th:include="/admin/sidebar"></th:block>-->
            <!--/col-->
            <main class="col main pt-5 mt-3 overflow-auto" style="flex-shrink: 3;">
                <div class="d-flex">
<!--                    <p class="col-md-4 h3 mt-3 mobile-hide" th:text="${'Schedule | ' + onlyDate}"></p>-->
                    <p class="col-md-4 h3 mt-3 dontdesktop-hide" th:text="${onlyDate}"></p>
                    <div class="col-md-4 mt-2 btn-group mobile-hide" style="height: 50%; align-self: center;" role="group">
                        <button type="button" th:data-url="@{/zmanim/last(before=${dateString})}" onclick="location.href = this.getAttribute('data-url')" class="btn btn-secondary switcher-btn" style="width: 40%;" th:text="${yesterdayOnlyDate}">‹</button>
                        <button type="button" th:if="${!isToday}" th:data-url="@{/zmanim}" onclick="location.href = this.getAttribute('data-url')" class="btn btn-secondary switcher-btn">Today</button>
                        <button type="button" th:data-url="@{/zmanim/next(after=${dateString})}" onclick="location.href = this.getAttribute('data-url')" class="btn btn-secondary switcher-btn" style="width: 40%;" th:text="${tommorowOnlyDate}">›</button>
                    </div>
                    <p class="h3 mt-3 ml-auto mobile-hide"  style="font-weight: 430;" th:text="${hebrewDate}"></p>
                </div>
                <hr>
                <div id="housing-housing">
                    <div id="row-housing" style="padding: 1rem;">
                <div class="row my-4">
                    <div class="col-lg-3 col-md-4" id="org-box">
                        <div class="card" style="border: 0;">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${org.getName()}"></h5>
                                <h6 class="card-subtitle mb-2 text-muted" th:text="${org.getNusach().displayName()}"></h6>
                                <p class="card-text" th:text="${org.getAddress()}"></p>
                                <a th:if="${org.getWebsiteURI() != null}" th:href="@{|https://${org.getWebsiteURI()}|}" class="card-link">Visit the website</a>
<!--                                <a href="#" class="card-link">Another link</a>-->
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9 col-md-8" id="minyanim-box">
                                <table class="table table-hover" th:if="${!allminyanim.isEmpty()}">
                                    <thead>
                                    <tr>
                                        <th scope="col">Type</th>
                                        <th scope="col">Time</th>
                                        <th scope="col">Information</th>
<!--                                        <th scope="col">Nusach</th>-->
<!--                                        <th scope="col">Notes</th>-->
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="minyan: ${allminyanim}">
                                        <th scope="row" class="middle" th:text="${minyan.getType().displayName()}"></th>
                                        <td th:if="${minyan.getLocationName() != null}" class="middle">
<!--                                            <button type="button" class="btn btn-primary btn-sm" th:text="${minyan.getOrganizationName() + '- ' + minyan.getLocationName()}"></button>-->
                                        </td>
                                        <td class="middle" th:text="${minyan.getFormattedStartTime()}"></td>
                                        <td class="middle" th:text="${minyan.getInformation()}">
<!--                                            <a role="button" class="btn btn-primary btn-sm" th:href="@{|/orgs/${minyan.getOrganizationName()}|}" th:text="${minyan.getOrganizationName()}"></a>-->
                                        </td>
<!--                                        <td class="middle" th:text="${minyan.getNusach().displayName()}"></td>-->
<!--                                        <td class="middle" th:text="${minyan.getNotes()}"></td>-->
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="jumbotron" th:if="${allminyanim.isEmpty()}">
                                    <h4>Sorry, there aren't any minyanim scheduled for this day.</h4>
                                </div>
                </div>
                </div>
                </div>
                <!--/row-->
            </main>
            <!--/main col-->
        </div>
    </div>
    <!--/.container-->


    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                        <span class="sr-only">Close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>This is a dashboard layout for Bootstrap 4. This is an example of the Modal component which you can use to show content.
                        Any content can be placed inside the modal and it can use the Bootstrap grid classes.</p>
                    <p>
                        <a href="https://www.codeply.com/go/KrUO8QpyXP" target="_ext">Grab the code at Codeply</a>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary-outline" data-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
    <!--    Welcome to the dashboard, [[${#httpServletRequest.remoteUser}]].-->

    <th:block th:include="/front/footer"></th:block>
</div>
</body>

<script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
<script th:src="@{/webjars/popper.js/1.16.0/umd/popper.min.js}"></script>
<script th:src="@{/webjars/bootstrap/4.6.1/js/bootstrap.min.js}"></script>
<!--    <script th:src="@{/webjars/jquery/3.6.0/jquery.min.js}"></script>-->
<!--    <script th:src="@{/webjars/popper.js/2.9.3/umd/popper.min.js}"></script>-->
<!--    <script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.min.js}"></script>-->
<!--<script th:src="@{front/org.js}"></script>-->

</html>